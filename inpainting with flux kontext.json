{"id":"4d8421a9-2780-4b5a-8442-8e281c8545d2","revision":0,"last_node_id":39,"last_link_id":46,"nodes":[{"id":1,"type":"RandomNoise","pos":[196.31259155273438,837.978515625],"size":[315,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"NOISE","name":"NOISE","type":"NOISE","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"RandomNoise","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[158535645352449,"randomize"]},{"id":2,"type":"InpaintModelConditioning","pos":[1277.5989990234375,792.9550170898438],"size":[315,138],"flags":{},"order":28,"mode":0,"inputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":46},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":2},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":3},{"label":"pixels","localized_name":"pixels","name":"pixels","type":"IMAGE","link":4},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":5},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[30]},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[31]},{"label":"latent","localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[32]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"InpaintModelConditioning","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[true]},{"id":3,"type":"ConditioningZeroOut","pos":[1317.5989990234375,1497.955078125],"size":[317.4000244140625,26],"flags":{"collapsed":true},"order":25,"mode":0,"inputs":[{"label":"conditioning","localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":6}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[2]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"ConditioningZeroOut","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[]},{"id":4,"type":"CLIPVisionEncode","pos":[922.5989379882812,1562.955078125],"size":[290,78],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"localized_name":"clip_vision","name":"clip_vision","type":"CLIP_VISION","link":7},{"localized_name":"image","name":"image","type":"IMAGE","link":8},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION_OUTPUT","name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","slot_index":0,"links":[18]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"CLIPVisionEncode","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["center"]},{"id":5,"type":"Note","pos":[1624.5989990234375,770.9550170898438],"size":[428.03350830078125,300.370849609375],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["Please Leave a Review on Civit AI: https://civitai.com/user/AIMotionStudio\nSubscribe to our Youtube for ComfyUI Tutorials: http://www.youtube.com/@AiMotionStudio\n\n\nLoad CLIP Vision: https://huggingface.co/Comfy-Org/sigclip_vision_384/blob/main/sigclip_vision_patch14_384.safetensors\n\nLoad Style Model: https://civitai.com/models/969352/flux-adapter-flux1-redux-dev\n\nLoad Flux Fill Dev GGUF Model: https://huggingface.co/YarvixPA/FLUX.1-Fill-dev-gguf/tree/main\n\nLoad Lora Model: https://huggingface.co/alimama-creative/FLUX.1-Turbo-Alpha/tree/main"],"color":"#432","bgcolor":"#653"},{"id":6,"type":"GrowMask","pos":[923.5989379882812,1433.955078125],"size":[210,82],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":9},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[10]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"GrowMask","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[4,true]},{"id":7,"type":"MaskPreview+","pos":[240.76373291015625,1487.467041015625],"size":[218.68418884277344,246],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":10}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"1.1.0","Node name for S&R":"MaskPreview+","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[]},{"id":8,"type":"Florence2ModelLoader","pos":[585.636474609375,827.2763061523438],"size":[288.740234375,130],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[24]}],"properties":{"cnr_id":"comfyui-florence2","ver":"de485b65b3e1b9b887ab494afa236dff4bef9a7e","Node name for S&R":"Florence2ModelLoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["Florence-2-large","fp16","sdpa",false]},{"id":9,"type":"CLIPVisionLoader","pos":[542.5989379882812,1462.955078125],"size":[362.0671081542969,62.379886627197266],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION","name":"CLIP_VISION","type":"CLIP_VISION","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"CLIPVisionLoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["sigclip_vision_patch14_384_F1.safetensors"],"color":"#233","bgcolor":"#355"},{"id":10,"type":"StyleModelLoader","pos":[552.5989379882812,1582.955078125],"size":[351.3459777832031,66.5030517578125],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"style_model_name","name":"style_model_name","type":"COMBO","widget":{"name":"style_model_name"},"link":null}],"outputs":[{"localized_name":"STYLE_MODEL","name":"STYLE_MODEL","type":"STYLE_MODEL","slot_index":0,"links":[17]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"StyleModelLoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["flux1-redux-dev.safetensors"],"color":"#233","bgcolor":"#355"},{"id":11,"type":"LoadImage","pos":[-161.730712890625,1269.945556640625],"size":[308.3603820800781,464.0576477050781],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[8]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"LoadImage","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["pasted/image (15).png","image"]},{"id":13,"type":"DownloadAndLoadSAM2Model","pos":[937.1011962890625,831.1990356445312],"size":[210,130],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","slot_index":0,"links":[21]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"DownloadAndLoadSAM2Model","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["sam2.1_hiera_large.safetensors","single_image","cuda","fp16"]},{"id":14,"type":"Florence2toCoordinates","pos":[942.9428100585938,1012.5721435546875],"size":[210,102],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"data","name":"data","type":"JSON","link":11},{"localized_name":"index","name":"index","type":"STRING","widget":{"name":"index"},"link":null},{"localized_name":"batch","name":"batch","type":"BOOLEAN","widget":{"name":"batch"},"link":null}],"outputs":[{"localized_name":"center_coordinates","name":"center_coordinates","type":"STRING","slot_index":0,"links":[]},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","slot_index":1,"links":[23]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Florence2toCoordinates","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["",false]},{"id":18,"type":"NunchakuFluxLoraLoader","pos":[265.33856201171875,1127.928466796875],"size":[340.20001220703125,82],"flags":{"collapsed":true},"order":22,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":15},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"lora_strength","name":"lora_strength","type":"FLOAT","widget":{"name":"lora_strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[29]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"952f74dc0122ca30d59308f19a6197a71cb1f8c7","Node name for S&R":"NunchakuFluxLoraLoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["GrainScape_UltraReal_v2.safetensors",0.5000000000000001]},{"id":19,"type":"StyleModelApply","pos":[931.4476318359375,1660.8614501953125],"size":[320,122],"flags":{"collapsed":false},"order":19,"mode":4,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":16},{"localized_name":"style_model","name":"style_model","type":"STYLE_MODEL","link":17},{"localized_name":"clip_vision_output","name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":18},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"strength_type","name":"strength_type","type":"COMBO","widget":{"name":"strength_type"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"StyleModelApply","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[2.0000000000000004,"multiply"]},{"id":21,"type":"VAEDecode","pos":[1320.5989990234375,1654.955078125],"size":[210,46],"flags":{"collapsed":false},"order":31,"mode":0,"inputs":[{"label":"samples","localized_name":"samples","name":"samples","type":"LATENT","link":19},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":20}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[28]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"VAEDecode","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[]},{"id":22,"type":"Sam2Segmentation","pos":[924.5989379882812,1164.955078125],"size":[220,202],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":21},{"localized_name":"image","name":"image","type":"IMAGE","link":22},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":null},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":null},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":23},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[9]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Sam2Segmentation","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[false,false]},{"id":24,"type":"Image Comparer (rgthree)","pos":[2081.598876953125,777.9550170898438],"size":[851.2347412109375,674.3973388671875],"flags":{},"order":33,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":25},{"dir":3,"name":"image_b","type":"IMAGE","link":26}],"outputs":[],"properties":{"comparer_mode":"Slide","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_ymtxz_00079_.png&type=temp&subfolder=&rand=0.008661869647476284"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_ymtxz_00080_.png&type=temp&subfolder=&rand=0.9532063118371454"}]]},{"id":25,"type":"InpaintStitchImproved","pos":[1561.0968017578125,1652.006103515625],"size":[215.03671264648438,46],"flags":{"collapsed":true},"order":32,"mode":0,"inputs":[{"localized_name":"stitcher","name":"stitcher","type":"STITCHER","link":27},{"localized_name":"inpainted_image","name":"inpainted_image","type":"IMAGE","link":28}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[26,41]}],"properties":{"cnr_id":"comfyui-inpaint-cropandstitch","ver":"b432b2411cbb7d3192d35953bd3aafea05a0e245","Node name for S&R":"InpaintStitchImproved","ue_properties":{"widget_ue_connectable":{},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":28,"type":"VAELoader","pos":[204.59893798828125,1332.955078125],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[3,20,37]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"VAELoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["ae.sft"]},{"id":29,"type":"InpaintCropImproved","pos":[513.618408203125,225.80775451660156],"size":[348.095703125,626],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":34},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":35},{"localized_name":"optional_context_mask","name":"optional_context_mask","shape":7,"type":"MASK","link":null},{"localized_name":"downscale_algorithm","name":"downscale_algorithm","type":"COMBO","widget":{"name":"downscale_algorithm"},"link":null},{"localized_name":"upscale_algorithm","name":"upscale_algorithm","type":"COMBO","widget":{"name":"upscale_algorithm"},"link":null},{"localized_name":"preresize","name":"preresize","type":"BOOLEAN","widget":{"name":"preresize"},"link":null},{"localized_name":"preresize_mode","name":"preresize_mode","type":"COMBO","widget":{"name":"preresize_mode"},"link":null},{"localized_name":"preresize_min_width","name":"preresize_min_width","type":"INT","widget":{"name":"preresize_min_width"},"link":null},{"localized_name":"preresize_min_height","name":"preresize_min_height","type":"INT","widget":{"name":"preresize_min_height"},"link":null},{"localized_name":"preresize_max_width","name":"preresize_max_width","type":"INT","widget":{"name":"preresize_max_width"},"link":null},{"localized_name":"preresize_max_height","name":"preresize_max_height","type":"INT","widget":{"name":"preresize_max_height"},"link":null},{"localized_name":"mask_fill_holes","name":"mask_fill_holes","type":"BOOLEAN","widget":{"name":"mask_fill_holes"},"link":null},{"localized_name":"mask_expand_pixels","name":"mask_expand_pixels","type":"INT","widget":{"name":"mask_expand_pixels"},"link":null},{"localized_name":"mask_invert","name":"mask_invert","type":"BOOLEAN","widget":{"name":"mask_invert"},"link":null},{"localized_name":"mask_blend_pixels","name":"mask_blend_pixels","type":"INT","widget":{"name":"mask_blend_pixels"},"link":null},{"localized_name":"mask_hipass_filter","name":"mask_hipass_filter","type":"FLOAT","widget":{"name":"mask_hipass_filter"},"link":null},{"localized_name":"extend_for_outpainting","name":"extend_for_outpainting","type":"BOOLEAN","widget":{"name":"extend_for_outpainting"},"link":null},{"localized_name":"extend_up_factor","name":"extend_up_factor","type":"FLOAT","widget":{"name":"extend_up_factor"},"link":null},{"localized_name":"extend_down_factor","name":"extend_down_factor","type":"FLOAT","widget":{"name":"extend_down_factor"},"link":null},{"localized_name":"extend_left_factor","name":"extend_left_factor","type":"FLOAT","widget":{"name":"extend_left_factor"},"link":null},{"localized_name":"extend_right_factor","name":"extend_right_factor","type":"FLOAT","widget":{"name":"extend_right_factor"},"link":null},{"localized_name":"context_from_mask_extend_factor","name":"context_from_mask_extend_factor","type":"FLOAT","widget":{"name":"context_from_mask_extend_factor"},"link":null},{"localized_name":"output_resize_to_target_size","name":"output_resize_to_target_size","type":"BOOLEAN","widget":{"name":"output_resize_to_target_size"},"link":null},{"localized_name":"output_target_width","name":"output_target_width","type":"INT","widget":{"name":"output_target_width"},"link":null},{"localized_name":"output_target_height","name":"output_target_height","type":"INT","widget":{"name":"output_target_height"},"link":null},{"localized_name":"output_padding","name":"output_padding","type":"COMBO","widget":{"name":"output_padding"},"link":null}],"outputs":[{"localized_name":"stitcher","name":"stitcher","type":"STITCHER","links":[27]},{"localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":[4,36]},{"localized_name":"cropped_mask","name":"cropped_mask","type":"MASK","links":[5]}],"properties":{"cnr_id":"comfyui-inpaint-cropandstitch","ver":"b432b2411cbb7d3192d35953bd3aafea05a0e245","Node name for S&R":"InpaintCropImproved","ue_properties":{"widget_ue_connectable":{"downscale_algorithm":true,"upscale_algorithm":true,"preresize":true,"preresize_mode":true,"preresize_min_width":true,"preresize_min_height":true,"preresize_max_width":true,"preresize_max_height":true,"mask_fill_holes":true,"mask_expand_pixels":true,"mask_invert":true,"mask_blend_pixels":true,"mask_hipass_filter":true,"extend_for_outpainting":true,"extend_up_factor":true,"extend_down_factor":true,"extend_left_factor":true,"extend_right_factor":true,"context_from_mask_extend_factor":true,"output_resize_to_target_size":true,"output_target_width":true,"output_target_height":true,"output_padding":true},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["bilinear","bicubic",false,"ensure minimum resolution",1024,1024,16384,16384,true,0,false,32,0.1,false,1,1,1,1,1.2,false,512,512,"32"]},{"id":30,"type":"VAEEncode","pos":[1005.04541015625,573.7362060546875],"size":[240,50],"flags":{"collapsed":true},"order":23,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":36},{"localized_name":"vae","name":"vae","type":"VAE","link":37}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[40]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"VAEEncode","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[]},{"id":31,"type":"FluxGuidance","pos":[973.4137573242188,669.9307250976562],"size":[317.4000244140625,58],"flags":{},"order":20,"mode":0,"inputs":[{"label":"conditioning","localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":38},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[39]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"FluxGuidance","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[2.5]},{"id":35,"type":"LoadImage","pos":[-551.1051635742188,743.5572509765625],"size":[315,338],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"LoadImage","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["clipspace/clipspace-painted-masked-9739151.png [input]","image"]},{"id":23,"type":"Florence2Run","pos":[569.3441162109375,1007.7067260742188],"size":[313.7927551269531,364],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":24},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[22]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","slot_index":2,"links":[]},{"localized_name":"data","name":"data","type":"JSON","slot_index":3,"links":[11]}],"properties":{"cnr_id":"comfyui-florence2","ver":"de485b65b3e1b9b887ab494afa236dff4bef9a7e","Node name for S&R":"Florence2Run","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["T-shirt","caption_to_phrase_grounding",true,false,1024,3,true,"",375193419889263,"randomize"]},{"id":33,"type":"SaveImage","pos":[1630.5989990234375,1130.955078125],"size":[415.305908203125,467.5404968261719],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":41},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"SaveImage","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["AI_removal"]},{"id":27,"type":"FluxGuidance","pos":[1276.1744384765625,1544.6124267578125],"size":[317.4000244140625,58],"flags":{},"order":21,"mode":0,"inputs":[{"label":"conditioning","localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":44},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[6]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"FluxGuidance","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[30]},{"id":32,"type":"ReferenceLatent","pos":[1175.958984375,461.0346374511719],"size":[197.712890625,46],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":39},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":40}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[46]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"ReferenceLatent","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[]},{"id":39,"type":"CLIPTextEncode","pos":[-689.5282592773438,1718.7764892578125],"size":[314.8039855957031,96],"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"CLIPTextEncode","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["Dense, detailed, high lush green grass with individual blades clearly visible, shimmering under warm sunlight. Leaves and plants react naturally to the light, creating highlights and soft shadows. Small decorative garden rocks and natural landscaping elements are scattered among the grass, adding realistic garden detail."]},{"id":26,"type":"KSampler","pos":[1268.0906982421875,985.735595703125],"size":[315,474.00006103515625],"flags":{"collapsed":false},"order":30,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":29},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":30},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":31},{"label":"latent_image","localized_name":"latent_image","name":"latent_image","type":"LATENT","link":32},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"KSampler","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[1006049191516424,"randomize",20,1,"dpmpp_2m","sgm_uniform",1]},{"id":20,"type":"NunchakuTextEncoderLoaderV2","pos":[166.91912841796875,1145.570068359375],"size":[317.0367126464844,130],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"model_type","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"text_encoder1","name":"text_encoder1","type":"COMBO","widget":{"name":"text_encoder1"},"link":null},{"localized_name":"text_encoder2","name":"text_encoder2","type":"COMBO","widget":{"name":"text_encoder2"},"link":null},{"localized_name":"t5_min_length","name":"t5_min_length","type":"INT","widget":{"name":"t5_min_length"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[42]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"90fb8ccf455a4bffa5fb832b84e54951d1e2949d","Node name for S&R":"NunchakuTextEncoderLoaderV2","ue_properties":{"widget_ue_connectable":{"model_type":true,"text_encoder1":true,"text_encoder2":true,"t5_min_length":true},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["flux.1","clip_l.safetensors","t5xxl_fp16.safetensors",1024]},{"id":34,"type":"NunchakuFluxDiTLoader","pos":[196.57131958007812,970.6376953125],"size":[315,202],"flags":{"collapsed":true},"order":11,"mode":0,"inputs":[{"localized_name":"model_path","name":"model_path","type":"COMBO","widget":{"name":"model_path"},"link":null},{"localized_name":"cache_threshold","name":"cache_threshold","type":"FLOAT","widget":{"name":"cache_threshold"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"cpu_offload","name":"cpu_offload","type":"COMBO","widget":{"name":"cpu_offload"},"link":null},{"localized_name":"device_id","name":"device_id","type":"INT","widget":{"name":"device_id"},"link":null},{"localized_name":"data_type","name":"data_type","type":"COMBO","widget":{"name":"data_type"},"link":null},{"localized_name":"i2f_mode","name":"i2f_mode","shape":7,"type":"COMBO","widget":{"name":"i2f_mode"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[43]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"952f74dc0122ca30d59308f19a6197a71cb1f8c7","Node name for S&R":"NunchakuFluxDiTLoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["svdq-int4_r32-flux.1-kontext-dev.safetensors",0,"nunchaku-fp16","auto",0,"bfloat16","enabled"]},{"id":38,"type":"NunchakuFluxLoraLoader","pos":[216.63046264648438,1050.095947265625],"size":[340.20001220703125,82],"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":43},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"lora_strength","name":"lora_strength","type":"FLOAT","widget":{"name":"lora_strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[15]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"952f74dc0122ca30d59308f19a6197a71cb1f8c7","Node name for S&R":"NunchakuFluxLoraLoader","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["kontext_remove.safetensors",1]},{"id":36,"type":"LoadImageOutput","pos":[-136.06158447265625,723.2153930664062],"size":[274.080078125,362],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[25,34]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[35]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.57","Node name for S&R":"LoadImageOutput","ue_properties":{"widget_ue_connectable":{"image":true,"upload":true},"version":"7.1","input_ue_unconnectable":{}}},"widgets_values":["AI_removal_00100_.png [output]",{"filename":"clipspace-paint-9265848.png","subfolder":"clipspace","type":"input"},"refresh","image"]},{"id":37,"type":"CLIPTextEncode","pos":[565.8666381835938,1379.209716796875],"size":[314.8039855957031,96],"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":42},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[16,38,44]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.36","Node name for S&R":"CLIPTextEncode","ue_properties":{"version":"7.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["remove the stick"]}],"links":[[2,3,0,2,1,"CONDITIONING"],[3,28,0,2,2,"VAE"],[4,29,1,2,3,"IMAGE"],[5,29,2,2,4,"MASK"],[6,27,0,3,0,"CONDITIONING"],[7,9,0,4,0,"CLIP_VISION"],[8,11,0,4,1,"IMAGE"],[9,22,0,6,0,"MASK"],[10,6,0,7,0,"MASK"],[11,23,3,14,0,"JSON"],[15,38,0,18,0,"MODEL"],[16,37,0,19,0,"CONDITIONING"],[17,10,0,19,1,"STYLE_MODEL"],[18,4,0,19,2,"CLIP_VISION_OUTPUT"],[19,26,0,21,0,"LATENT"],[20,28,0,21,1,"VAE"],[21,13,0,22,0,"SAM2MODEL"],[22,23,0,22,1,"IMAGE"],[23,14,1,22,4,"BBOX"],[24,8,0,23,1,"FL2MODEL"],[25,36,0,24,0,"IMAGE"],[26,25,0,24,1,"IMAGE"],[27,29,0,25,0,"STITCHER"],[28,21,0,25,1,"IMAGE"],[29,18,0,26,0,"MODEL"],[30,2,0,26,1,"CONDITIONING"],[31,2,1,26,2,"CONDITIONING"],[32,2,2,26,3,"LATENT"],[34,36,0,29,0,"IMAGE"],[35,36,1,29,1,"MASK"],[36,29,1,30,0,"IMAGE"],[37,28,0,30,1,"VAE"],[38,37,0,31,0,"CONDITIONING"],[39,31,0,32,0,"CONDITIONING"],[40,30,0,32,1,"LATENT"],[41,25,0,33,0,"IMAGE"],[42,20,0,37,0,"CLIP"],[43,34,0,38,0,"MODEL"],[44,37,0,27,0,"CONDITIONING"],[46,32,0,2,0,"CONDITIONING"]],"groups":[{"id":1,"title":"Flux Models","bounding":[184.44244384765625,752.7315673828125,343.3092346191406,973.0020751953125],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Prompts","bounding":[534.1072998046875,758.6757202148438,711.479248046875,965.231689453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Input Image","bounding":[-173.61383056640625,1173.7437744140625,338,548],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Ksampler","bounding":[1256.4190673828125,728.3735961914062,345,980],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.5730855330116831,"offset":[653.1925968385765,-486.1893270229783]},"ue_links":[],"links_added_by_ue":[]},"version":0.4}